<!DOCTYPE html>
<html lang="fr">
<head>

  <!-- Basic Page Needs
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <meta charset="utf-8">
  <title>PAW</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/custom.css">

  <!-- Favicon
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <link rel="icon" type="image/png" href="images/favicon.png">

  <!-- Javascript Leaflet
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
   <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"> </script>

</head>

<body>

  <!-- Navbar
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->

	<nav class="fixed-nav-bar">
		<div id="menu" class="menu">
			<!-- Example responsive navigation menu  -->
			<a class="show" href="#menu">Menu</a><a class="hide" href="#hidemenu">Menu</a>
				<ul class="menu-items">
				<li> <a class="home" href="index.html">
				Accueil
				</a> </li>
				<li> <a class="home" href="experiences.html">
				Experiences
				</a> </li>
				<li> <a class="home" href="projets.html">
				Mes projets
				</a> </li>
			</ul>
		</div>
	</nav>


  <!-- Primary Page Layout
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->

<div class="flat"></div>


  <!-- Conteneur
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <div class="container">

    <div class="separator"> </div>
    <div class="separator"> </div>

    <h3 class="title">
      <a class="a_link" href="projets.html">
        <img class="rezize_image_h3" src="images/scooter.svg"  onmouseover=this.src="images/scooter_over.svg" onmouseout=this.src="images/scooter.svg">
      </a>  &nbsp Accidents de la route
    </h3>
    <h6 class="espacement_h5"> Licence Pro SID : Lille 2, mai 2015 </h6>
    <h6 class="espacement_h5"> Logiciel utilis√© : R, library <a class="a_link" href="http://leafletjs.com/" target="_blank">Javascript Leaflet</a> </h6>

    <!-- Projet 2
    ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->


	   <div class="value-props row">
       <div class="twelve columns" >
         <h5 class="espacement_h5"> Objectifs : </h5>

         <div class="twelve columns value-prop" >
           Travailler sur des donn√©es Open Data issu du site internet
           <a class="a_link" href="https://www.data.gouv.fr/fr/datasets/base-de-donnees-accidents-corporels-de-la-circulation/" target="_blank">data.gouv.fr</a>
           <div class="separator"> </div>
           Cr√©ation d‚Äôun Data-Warehouse multidimensionnel afin d'analyser les accidents de la circulation de 2006 √† 2011 selon diff√©rentes dimensions.
           Proposer des outils de restitutions des donn√©es :
           - data visualisation
           - cartrographie
         </div>

        </div >

        <div class="twelve columns" >
          <h5 class="espacement_h5"> D√©marches : </h5>

         </div>

         <div class="twelve columns" >
           <h5 class="espacement_h5"> Resultats : </h5>
           <div class="twelve columns value-prop" >

             <div id="map">
             </div>


               <script src="sources/javascript/france_blesse.js"></script>

               <script>

               var map = L.map('map',{ dragging: !L.Browser.mobile }).setView([48.8, 2.3], 5);
               L.tileLayer('https://api.mapbox.com/styles/v1/pawpaw/cip5yvpph001idlnnufnuziho/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoicGF3cGF3IiwiYSI6ImNpb3Z5NXB0ejAwNzJ3ZGtqcWNoOWF4cHMifQ.s3NFmGt5WTr7bIbyXukUNQ',
               {
               }).addTo(map);

               // function

               var info = L.control();

               info.onAdd = function (map) {
                   this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
                   this.update();
                   return this._div;
               };

               // method that we will use to update the control based on feature properties passed
               info.update = function (props) {
                   this._div.innerHTML = '<h5>Nb de bless√©s par an par accidents de la route</h5>' +  (props ?
                       '<b>' + props.nom + '</b><br />' + props.tot_blesse + ' bless√©s / 100 000 hbts'
                       : 'Survoler un d√©partement');
               };

               info.addTo(map);
               function getColor(d) {
                 return  d > 60  ? '#FC4E2A' :
                         d > 50   ? '#FD8D3C' :
                         d > 40   ? '#FEB24C' :
                         d > 22   ? '#FED976' :
                         '#FFEDA0';
                               }

               function style(feature) {
                 return {
                   fillColor: getColor(feature.properties.tot_blesse),
                                       weight: 2,
                                       opacity: 1,
                                       color: 'white',
                                       dashArray: '3',
                                       fillOpacity: 0.7
                                   };
                               }

                   function highlightFeature(e) {
                     var layer = e.target;

                     layer.setStyle({
                         weight: 3,
                         color: '#666',
                         dashArray: '',
                         fillOpacity: 0.7
                     });

                     if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                         layer.bringToFront();
                     }

                     info.update(layer.feature.properties);
                 }

                 var geojson;

                 function resetHighlight(e) {
                   geojson.resetStyle(e.target);
                   info.update();
                 }

                 function zoomToFeature(e) {
                 map.fitBounds(e.target.getBounds());
                 }

                 function onEachFeature(feature, layer) {
                   layer.on({
                   mouseover: highlightFeature,
                   mouseout: resetHighlight,
                   click: zoomToFeature
                 });
                 }

                 geojson = L.geoJson(france_blesse, {
                   style: style,
                   onEachFeature: onEachFeature
                 }).addTo(map);

                 map.attributionControl.addAttribution('BDD accidents corporels de la route &copy; <a href="https://www.data.gouv.fr/fr/datasets/base-de-donnees-accidents-corporels-de-la-circulation/"> data.gouv.fr</a>');

                 var legend = L.control({position: 'bottomright'});

                   legend.onAdd = function (map) {

                     var div = L.DomUtil.create('div', 'info legend'),
                       grades = [22, 40, 50, 60],
                       labels = [],
                       from, to;

                     for (var i = 0; i < grades.length; i++) {
                       from = grades[i];
                       to = grades[i + 1];

                       labels.push(
                         '<i style="background:' + getColor(from + 1) + '"></i> ' +
                         from + (to ? '&ndash;' + to : ' et +'));
                     }

                     div.innerHTML = labels.join('<br>');
                     return div;
                   };

                   legend.addTo(map);
               //L.geoJson(france_blesse,{style: style} ).addTo(mymap);



               </script>


           </div>

          </div >

<!-- Graphique D3
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
        <div class="separator"> </div>
        <div class="twelve columns" >
          <div class="twelve columns value-prop" >

            <figure class="waffle"></figure>

            <div class="stack-chart">
            <div class="group">
              <div class="block" style="height: 89.612px; background-color: rgb(254, 74, 73);"></div>
              <div class="block" style="height: 61.362px; background-color: rgb(204, 204, 204);"></div>
              <div class="block" style="height: 35.962px; background-color: rgb(221, 221, 221);"></div>
              <div class="block" style="height: 4.641px; background-color: rgb(238, 238, 238);"></div>
              <text class="label">2006</text>
              <text class="count">89k</text>
            </div>

            <div class="group">
              <div class="block" style="height: 81.472px; background-color: rgb(254, 74, 73);"></div>
              <div class="block" style="height: 55.86px; background-color: rgb(204, 204, 204);"></div>
              <div class="block" style="height: 32.96px; background-color: rgb(221, 221, 221);"></div>
              <div class="block" style="height: 4.191px; background-color: rgb(238, 238, 238);"></div>
              <text class="label">2007</text>
              <text class="count">81k</text>
            </div>

            <div class="group">
              <div class="block" style="height: 76.567px; background-color: rgb(254, 74, 73);"></div>
              <div class="block" style="height: 52.919px; background-color: rgb(204, 204, 204);"></div>
              <div class="block" style="height: 30.896px; background-color: rgb(221, 221, 221);"></div>
              <div class="block" style="height: 3.916px; background-color: rgb(238, 238, 238);"></div>
              <text class="label">2008</text>
              <text class="count">76k</text>
            </div>
            </div>

            </div >
          </div>





</div>


<!-- End Document
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
<div class="bigseparator"></div>


<footer class="footer">

     <p class="div_footer">
      <a href="https://fr.linkedin.com/in/pierre-antoine-willoquaux-a49a4767" target="_blank">
        <img class="rezize_image_footer" src="images/linkedin.svg" onmouseover=this.src="images/linkedin_over.svg" onmouseout=this.src="images/linkedin.svg">
      </a>
    </p>

    <p class="div_footer">
      <a href="https://twitter.com/pawilloquaux" target="_blank">
        <img class="rezize_image_footer" src="images/twitter.svg" onmouseover=this.src="images/twitter_over.svg" onmouseout=this.src="images/twitter.svg">
      </a>
    </p>

    <p class="div_footer2">
      <a class="a_link" href="http://getskeleton.com/" target="_blank"> Webstite by Skeleaton <a/>
      <a class="a_link" href="https://www.behance.net/onisah" target="_blank"> Icons by Gian Marco Maurizi <a/>
      <a class="a_link" href="http://www.flaticon.com/" target="_blank"> designed by Freepick  <a/>
    </p>

<div class="separator"></div>
</footer>


<script src="sources/javascript/france_accidents_graph.js"></script>
</body>
</html>
